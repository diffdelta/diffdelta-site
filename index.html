<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DiffDelta ‚Äî State Primitives for Autonomous Agents</title>
  <meta name="description" content="Two state primitives that survive every restart: structured feeds for what changed in the world, and a signed capsule that preserves who your agent is. Same protocol. Zero tokens wasted.">
  <meta property="og:title" content="DiffDelta ‚Äî State Primitives for Autonomous Agents">
  <meta property="og:description" content="Agents forget. The world doesn't wait. DiffDelta gives autonomous agents two primitives: feeds that track the world, and a signed capsule that preserves identity across restarts.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://diffdelta.io">
  <meta name="twitter:card" content="summary">
  <link rel="alternate" type="application/json" href="/diff/head.json" title="DiffDelta Global Feed">
  <link rel="alternate" type="application/json" href="/diff/sources.json" title="DiffDelta Sources Index">
  <style>
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    :root{
      --bg:#09090b;--surface:#18181b;--surface2:#1f1f23;--border:#27272a;
      --text:#fafafa;--text2:#a1a1aa;--text3:#71717a;
      --accent:#3b82f6;--accent-h:#2563eb;--accent-glow:rgba(59,130,246,0.12);
      --green:#22c55e;--yellow:#eab308;--red:#ef4444;
      --font:system-ui,-apple-system,'Segoe UI',Roboto,sans-serif;
      --mono:ui-monospace,'SF Mono','Cascadia Code','Fira Code',monospace;
      --max-w:1080px;--px:24px
    }
    html{font-size:16px;-webkit-text-size-adjust:100%}
    body{font-family:var(--font);background:var(--bg);color:var(--text);line-height:1.6;
      background-image:radial-gradient(ellipse 60% 50% at 50% -10%,var(--accent-glow),transparent)}
    a{color:var(--accent);text-decoration:none}
    a:hover{text-decoration:underline}
    code{font-family:var(--mono);font-size:.875em;background:var(--surface);padding:2px 6px;border-radius:4px}

    /* ‚îÄ‚îÄ Nav ‚îÄ‚îÄ */
    .nav{max-width:var(--max-w);margin:0 auto;padding:20px var(--px);display:flex;align-items:center;justify-content:space-between}
    .nav-brand{font-weight:700;font-size:1.15rem;color:var(--text);letter-spacing:-.5px}
    .nav-brand span{color:var(--accent)}
    .nav-links{display:flex;gap:24px;font-size:.9rem}
    .nav-links a{color:var(--text2);transition:color .15s}
    .nav-links a:hover{color:var(--text);text-decoration:none}

    /* ‚îÄ‚îÄ Bot banner ‚îÄ‚îÄ */
    .bot-banner{max-width:var(--max-w);margin:0 auto;padding:0 var(--px)}
    .bot-banner-inner{background:var(--surface);border:1px solid var(--border);border-radius:8px;
      padding:10px 16px;font-size:.85rem;color:var(--text2);display:flex;align-items:center;gap:8px;flex-wrap:wrap}
    .bot-banner-inner strong{color:var(--accent)}
    .bot-banner-inner a{font-weight:600}

    /* ‚îÄ‚îÄ Hero ‚îÄ‚îÄ */
    .hero{max-width:var(--max-w);margin:0 auto;padding:72px var(--px) 56px;text-align:center}
    .hero h1{font-size:clamp(2rem,5vw,3.2rem);font-weight:800;letter-spacing:-1.5px;line-height:1.1;margin-bottom:20px}
    .hero h1 em{font-style:normal;background:linear-gradient(135deg,var(--accent),#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .hero p{font-size:1.15rem;color:var(--text2);max-width:620px;margin:0 auto 32px}
    .hero-actions{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}

    /* ‚îÄ‚îÄ Buttons ‚îÄ‚îÄ */
    .btn{display:inline-flex;align-items:center;gap:6px;padding:10px 22px;border-radius:8px;
      font-size:.95rem;font-weight:600;transition:all .15s;border:none;cursor:pointer}
    .btn-primary{background:var(--accent);color:#fff}
    .btn-primary:hover{background:var(--accent-h);text-decoration:none}
    .btn-ghost{background:transparent;color:var(--text2);border:1px solid var(--border)}
    .btn-ghost:hover{background:var(--surface);color:var(--text);text-decoration:none}

    /* ‚îÄ‚îÄ Two-primitives callout ‚îÄ‚îÄ */
    .primitives{max-width:var(--max-w);margin:0 auto;padding:0 var(--px) 48px}
    .primitives-label{font-size:.7rem;text-transform:uppercase;letter-spacing:1.5px;color:var(--text3);
      font-weight:600;text-align:center;margin-bottom:16px}
    .primitives-grid{display:grid;grid-template-columns:1fr 1fr;gap:1px;background:var(--border);
      border:1px solid var(--border);border-radius:14px;overflow:hidden}
    .primitive{background:var(--surface);padding:28px 24px;position:relative}
    .primitive-icon{font-size:1.3rem;margin-bottom:10px}
    .primitive h3{font-size:1.05rem;font-weight:700;margin-bottom:6px;letter-spacing:-.3px}
    .primitive p{font-size:.88rem;color:var(--text2);line-height:1.55;margin-bottom:12px}
    .primitive-link{font-size:.82rem;font-weight:600;color:var(--accent)}
    .primitive-tag{display:inline-block;font-size:.65rem;padding:2px 8px;border-radius:99px;
      font-weight:700;letter-spacing:.5px;text-transform:uppercase;margin-left:8px;vertical-align:middle}
    .primitive-tag-new{background:#22c55e18;color:var(--green)}
    .primitive-tag-core{background:rgba(59,130,246,0.12);color:var(--accent)}
    .primitive-code{background:var(--bg);border:1px solid var(--border);border-radius:8px;
      padding:14px 16px;margin-top:4px;margin-bottom:12px;font-family:var(--mono);font-size:.75rem;
      line-height:1.65;color:var(--text2);overflow-x:auto;white-space:pre}
    .primitive-code .cm{color:var(--text3)}
    .primitive-code .s{color:#a5d6ff}
    .primitive-code .k{color:#ff7b72}
    .primitive-code .f{color:#d2a8ff}
    .primitives-footer{text-align:center;margin-top:14px;font-size:.8rem;color:var(--text3);font-family:var(--mono)}
    @media(max-width:768px){.primitives-grid{grid-template-columns:1fr}}

    /* ‚îÄ‚îÄ Stats ‚îÄ‚îÄ */
    .stats{max-width:var(--max-w);margin:0 auto;padding:0 var(--px) 56px}
    .stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1px;background:var(--border);
      border:1px solid var(--border);border-radius:12px;overflow:hidden}
    .stat{background:var(--surface);padding:20px;text-align:center}
    .stat-value{font-size:1.5rem;font-weight:700;color:var(--text)}
    .stat-value span{color:var(--accent)}
    .stat-label{font-size:.75rem;color:var(--text3);margin-top:2px;text-transform:uppercase;letter-spacing:.5px}

    /* ‚îÄ‚îÄ Sections ‚îÄ‚îÄ */
    section{max-width:var(--max-w);margin:0 auto;padding:56px var(--px)}
    .section-label{font-size:.75rem;text-transform:uppercase;letter-spacing:1.5px;color:var(--accent);font-weight:600;margin-bottom:8px}
    .section-title{font-size:1.6rem;font-weight:700;letter-spacing:-.5px;margin-bottom:12px}
    .section-sub{color:var(--text2);margin-bottom:36px;max-width:600px}

    /* ‚îÄ‚îÄ Steps ‚îÄ‚îÄ */
    .steps{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .step{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:24px}
    .step-num{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;
      border-radius:50%;background:var(--accent);color:#fff;font-size:.8rem;font-weight:700;margin-bottom:12px}
    .step h3{font-size:1rem;font-weight:600;margin-bottom:8px}
    .step p{font-size:.9rem;color:var(--text2);line-height:1.5}
    .step code{font-size:.8rem}

    /* ‚îÄ‚îÄ Sources table ‚îÄ‚îÄ */
    .sources-wrap{background:var(--surface);border:1px solid var(--border);border-radius:12px;overflow:hidden;overflow-x:auto}
    .sources-count{font-size:.85rem;color:var(--text3);margin-bottom:16px}
    .sources-table{width:100%;border-collapse:collapse}
    .sources-table th{text-align:left;font-size:.7rem;text-transform:uppercase;letter-spacing:.5px;
      color:var(--text3);padding:10px 14px;border-bottom:1px solid var(--border)}
    .sources-table td{padding:10px 14px;border-bottom:1px solid var(--border);font-size:.9rem;vertical-align:middle}
    .sources-table tr:last-child td{border-bottom:none}
    .sources-table tr:hover td{background:var(--surface2)}
    .source-name-cell{display:flex;align-items:center}
    .status-dot{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:10px;flex-shrink:0}
    .status-ok{background:var(--green)}
    .status-degraded{background:var(--yellow)}
    .status-error{background:var(--red)}
    .status-disabled{background:var(--text3)}
    .source-links{display:flex;gap:10px}
    .source-links a{font-size:.8rem;color:var(--text3);transition:color .15s;font-family:var(--mono)}
    .source-links a:hover{color:var(--accent)}
    .tag-pill{display:inline-block;font-size:.7rem;padding:2px 8px;border-radius:99px;margin:1px 3px 1px 0;
      font-weight:600;letter-spacing:.3px;white-space:nowrap}
    .tag-security{background:#dc354520;color:#dc3545}
    .tag-cloud-status{background:#fd7e1420;color:#fd7e14}
    .tag-releases{background:#0d6efd20;color:#0d6efd}
    .tag-ai{background:#6f42c120;color:#6f42c1}
    .tag-news{background:#6c757d20;color:#6c757d}
    .tag-cloud{background:#0dcaf020;color:#0aa2c0}

    /* ‚îÄ‚îÄ Code block + tabs ‚îÄ‚îÄ */
    .code-block{background:var(--surface);border:1px solid var(--border);border-radius:12px;overflow:hidden}
    .tabs{display:flex;gap:0;border-bottom:1px solid var(--border);padding:0 16px}
    .tab{padding:10px 16px;font-size:.85rem;color:var(--text3);cursor:pointer;border:none;
      border-bottom:2px solid transparent;transition:all .15s;background:none;font-family:var(--font)}
    .tab:hover{color:var(--text2)}
    .tab.active{color:var(--accent);border-bottom-color:var(--accent)}
    .code-panel{display:none}
    .code-panel.active{display:block}
    .code-block pre{margin:0;padding:20px 24px;font-family:var(--mono);font-size:.85rem;
      line-height:1.7;color:var(--text2);overflow-x:auto;white-space:pre}
    .cm{color:var(--text3)}
    .s{color:#a5d6ff}
    .k{color:#ff7b72}
    .f{color:#d2a8ff}

    /* ‚îÄ‚îÄ Savings row ‚îÄ‚îÄ */
    .savings{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .saving{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:24px;text-align:center}
    .saving-num{font-size:2rem;font-weight:700;color:var(--green)}
    .saving-label{font-size:.85rem;color:var(--text2);margin-top:4px}
    .saving-sub{font-size:.75rem;color:var(--text3)}

    /* ‚îÄ‚îÄ Source request form ‚îÄ‚îÄ */
    .request-form{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:28px;margin-top:24px}
    .request-form form{display:grid;grid-template-columns:1fr 1fr auto;gap:12px;align-items:end}
    .request-form label{display:block;font-size:.75rem;font-weight:600;color:var(--text3);text-transform:uppercase;
      letter-spacing:.5px;margin-bottom:6px}
    .request-form input{width:100%;background:var(--bg);border:1px solid var(--border);border-radius:8px;
      padding:10px 14px;color:var(--text);font-size:.9rem;font-family:var(--font);transition:border-color .15s}
    .request-form input:focus{outline:none;border-color:var(--accent)}
    .request-form input::placeholder{color:var(--text3)}
    .request-form .btn{height:42px}
    .request-form .form-msg{grid-column:1/-1;font-size:.85rem;margin-top:4px}
    .request-form .form-msg.ok{color:var(--green)}
    .request-form .form-msg.err{color:var(--red)}
    .hp-field{position:absolute;left:-9999px;opacity:0;height:0;width:0}
    @media(max-width:768px){.request-form form{grid-template-columns:1fr}}

    /* ‚îÄ‚îÄ CTA / Pricing ‚îÄ‚îÄ */
    .cta{text-align:center;padding:56px var(--px) 72px}
    .cta p{color:var(--text2);margin-bottom:24px}
    .cta .hi{color:var(--green);font-weight:600}

    /* ‚îÄ‚îÄ Pricing cards ‚îÄ‚îÄ */
    .pricing-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-top:36px;text-align:left}
    .pricing-card{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:32px 28px;
      display:flex;flex-direction:column;position:relative}
    .pricing-card.featured{border-color:var(--accent);box-shadow:0 0 40px var(--accent-glow)}
    .pricing-badge{position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:var(--accent);
      color:#fff;font-size:.7rem;font-weight:700;padding:4px 14px;border-radius:20px;text-transform:uppercase;
      letter-spacing:.5px;white-space:nowrap}
    .pricing-tier{font-size:.85rem;font-weight:600;color:var(--accent);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}
    .pricing-price{font-size:2.5rem;font-weight:800;letter-spacing:-1.5px;margin-bottom:4px}
    .pricing-price span{font-size:1rem;font-weight:400;color:var(--text3)}
    .pricing-sub{font-size:.8rem;color:var(--text3);margin-bottom:20px}
    .pricing-features{list-style:none;padding:0;margin:0 0 28px;flex:1}
    .pricing-features li{font-size:.9rem;color:var(--text2);padding:7px 0;position:relative;padding-left:24px}
    .pricing-features li::before{content:"‚úì";position:absolute;left:0;color:var(--green);font-weight:700}
    .pricing-card .btn{width:100%;justify-content:center;text-align:center}
    @media(max-width:768px){.pricing-grid{grid-template-columns:1fr}}

    /* ‚îÄ‚îÄ Footer ‚îÄ‚îÄ */
    .footer{max-width:var(--max-w);margin:0 auto;padding:24px var(--px);
      border-top:1px solid var(--border);display:flex;justify-content:space-between;
      align-items:center;font-size:.8rem;color:var(--text3)}
    .footer a{color:var(--text3)}
    .footer a:hover{color:var(--text)}

    /* ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ */
    @media(max-width:768px){
      .stats-grid{grid-template-columns:repeat(2,1fr)}
      .steps,.savings{grid-template-columns:1fr}
      .nav-links{gap:14px;font-size:.8rem}
      .hero{padding:48px var(--px) 40px}
      .hero h1{font-size:2rem}
      .footer{flex-direction:column;gap:8px;text-align:center}
      .source-packs{grid-template-columns:1fr !important}
    }
    @media(max-width:480px){
      .hero-actions{flex-direction:column;align-items:center}
      .nav{flex-direction:column;gap:12px}
    }
  </style>
</head>
<body>

  <!-- Bot discovery banner -->
  <div class="bot-banner" style="padding-top:12px">
    <div class="bot-banner-inner">
      <strong>ü§ñ Bots:</strong>
      Feeds ‚Üí <a href="/diff/sources.json">/diff/sources.json</a> ‚Üí
      poll <a href="/diff/head.json">/diff/head.json</a> for changes ¬∑
      Self ‚Üí <code style="font-size:.8em">POST</code> <a href="/self">/api/v1/self/bootstrap</a> to persist identity ¬∑
      <a href="#quickstart">quickstart</a>
    </div>
  </div>

  <!-- Nav -->
  <nav class="nav">
    <div class="nav-brand">Diff<span>Delta</span></div>
    <div class="nav-links">
      <a href="#quickstart">Docs</a>
      <a href="#sources">Sources</a>
      <a href="/self">Self</a>
      <a href="#pricing">Pricing</a>
      <a href="/docs/spec/diffdelta-feed-spec">Spec</a>
      <a href="https://github.com/diffdelta">GitHub</a>
    </div>
  </nav>

  <!-- Hero -->
  <header class="hero">
    <h1>Your agent doesn't have a memory problem.<br><em>It has a state problem.</em></h1>
    <p>Every restart, it forgets what it was doing. Every poll cycle, it re-reads unchanged pages. DiffDelta gives agents two state primitives: <strong>feeds</strong> that track what changed in the world, and a signed <strong>self capsule</strong> that preserves identity across restarts ‚Äî with zero tokens wasted.</p>
    <div class="hero-actions">
      <a href="#quickstart" class="btn btn-primary">Get Started ‚Üí</a>
      <a href="/docs/spec/self-capsule-v0" class="btn btn-ghost">Self Capsule Spec ‚Üí</a>
      <a href="#sources" class="btn btn-ghost">View Sources ‚Üì</a>
    </div>
  </header>

  <!-- Explainer CTA -->
  <div style="max-width:var(--max-w);margin:0 auto;padding:0 var(--px) 20px;text-align:center">
    <a href="/scenario/security-bot" class="btn btn-ghost" style="font-size:.9rem;color:var(--text3);border-color:var(--border);gap:8px">
      <span style="font-size:1.1em">ü§î</span> How would I actually use this?
    </a>
  </div>

  <!-- Two primitives -->
  <div class="primitives">
    <div class="primitives-label">Two primitives ‚Äî one protocol</div>
    <div class="primitives-grid">
      <div class="primitive">
        <div class="primitive-icon">üåê</div>
        <h3>Know the world <span class="primitive-tag primitive-tag-core">Feeds</span></h3>
        <p>Poll structured feeds for security advisories, status pages, and releases. A 400-byte heartbeat tells your agent when something changed ‚Äî and when to do nothing.</p>
        <div class="primitive-code"><span class="k">from</span> diffdelta <span class="k">import</span> DiffDelta

dd = DiffDelta()
<span class="k">for</span> item <span class="k">in</span> dd.<span class="f">poll</span>(tags=[<span class="s">"security"</span>]):
    <span class="f">print</span>(item.headline, item.risk_score)
<span class="cm"># cursor saved automatically ‚Äî next poll returns only new items</span></div>
        <a href="#sources" class="primitive-link">View 35+ sources ‚Üí</a>
      </div>
      <div class="primitive">
        <div class="primitive-icon">üß†</div>
        <h3>Know yourself <span class="primitive-tag primitive-tag-new">Self Capsule</span></h3>
        <p>Persist identity, objectives, and constraints in a tiny signed capsule. Survive context compaction, restarts, and model swaps. No signup ‚Äî just a keypair.</p>
        <div class="primitive-code"><span class="cm"># Generate identity (once ‚Äî persist the private key)</span>
ident = generate_identity()  <span class="cm"># Ed25519 keypair</span>
bootstrap(<span class="s">"https://diffdelta.io"</span>, ident.public_key_hex)

<span class="cm"># Write your self-state (signed, typed, 8KB)</span>
put_capsule(url, sign_capsule(ident, capsule, seq=<span class="s">1</span>))

<span class="cm"># On restart: 200-byte head check</span>
status, etag, head = get_head(url, ident.agent_id)
<span class="cm"># 304 = nothing changed. You're still you.</span></div>
        <a href="/docs/spec/self-capsule-v0" class="primitive-link">Read the spec ‚Üí</a>
      </div>
    </div>
    <div class="primitives-footer">Same cursors ¬∑ Same ETag/304 polling ¬∑ Same "do nothing" optimization</div>
  </div>

  <!-- Stats -->
  <div class="stats">
    <div class="stats-grid">
      <div class="stat">
        <div class="stat-value" id="stat-sources">35+</div>
        <div class="stat-label">Sources</div>
      </div>
      <div class="stat">
        <div class="stat-value">15<span>min</span></div>
        <div class="stat-label">Refresh</div>
      </div>
      <div class="stat">
        <div class="stat-value">Static</div>
        <div class="stat-label">CDN Edge</div>
      </div>
      <div class="stat">
        <div class="stat-value">0</div>
        <div class="stat-label">Dependencies</div>
      </div>
    </div>
  </div>

  <!-- How it works -->
  <section>
    <div class="section-label">How it works</div>
    <h2 class="section-title">Two-step polling. 99% bandwidth savings.</h2>
    <p class="section-sub">Most polls return a 400-byte head pointer. Full payloads are only fetched when content actually changes.</p>
    <div class="steps">
      <div class="step">
        <div class="step-num">1</div>
        <h3>Poll</h3>
        <p>Fetch <code>head.json</code> ‚Äî a ~400-byte file with just the cursor and hash. Served from CDN edge in &lt;50ms worldwide.</p>
      </div>
      <div class="step">
        <div class="step-num">2</div>
        <h3>Compare</h3>
        <p>Compare the <code>cursor</code> to your stored value. Same? Nothing changed ‚Äî stop. Different? Fetch the full <code>latest.json</code>.</p>
      </div>
      <div class="step">
        <div class="step-num">3</div>
        <h3>Act</h3>
        <p>Process <code>new</code>, <code>updated</code>, and <code>removed</code> buckets. Each item has a headline, content, risk score, and provenance chain.</p>
      </div>
    </div>
  </section>

  <!-- Sources -->
  <section id="sources">
    <div class="section-label">Live Sources</div>
    <h2 class="section-title">What's being tracked right now</h2>

    <!-- Source packs -->
    <div class="source-packs" style="display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-bottom:28px">
      <div style="background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:20px">
        <div style="font-size:1.1rem;margin-bottom:6px">üîí</div>
        <div style="font-weight:700;font-size:.95rem;margin-bottom:4px">Security</div>
        <div style="font-size:.8rem;color:var(--text2);margin-bottom:10px">CVEs, advisories, vulnerability disclosures</div>
        <div style="font-size:.72rem;color:var(--text3);line-height:1.6;font-family:var(--mono)">cisa_kev ¬∑ nist_nvd ¬∑ github_advisories<br>kubernetes_cve ¬∑ linux_kernel_cve<br>debian_security ¬∑ ubuntu_security ¬∑ openssl</div>
        <div style="font-size:.75rem;color:var(--accent);font-weight:600;margin-top:10px">8 sources</div>
      </div>
      <div style="background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:20px">
        <div style="font-size:1.1rem;margin-bottom:6px">‚òÅÔ∏è</div>
        <div style="font-weight:700;font-size:.95rem;margin-bottom:4px">Cloud Status</div>
        <div style="font-size:.8rem;color:var(--text2);margin-bottom:10px">Infrastructure health for major providers</div>
        <div style="font-size:.72rem;color:var(--text3);line-height:1.6;font-family:var(--mono)">aws_status ¬∑ azure_status ¬∑ gcp_status</div>
        <div style="font-size:.75rem;color:var(--accent);font-weight:600;margin-top:10px">3 sources</div>
      </div>
      <div style="background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:20px">
        <div style="font-size:1.1rem;margin-bottom:6px">üì¶</div>
        <div style="font-weight:700;font-size:.95rem;margin-bottom:4px">Releases</div>
        <div style="font-size:.8rem;color:var(--text2);margin-bottom:10px">Version updates for tools you depend on</div>
        <div style="font-size:.72rem;color:var(--text3);line-height:1.6;font-family:var(--mono)">kubernetes ¬∑ docker ¬∑ terraform ¬∑ node<br>python ¬∑ golang ¬∑ react ¬∑ nextjs ¬∑ redis &hellip;</div>
        <div style="font-size:.75rem;color:var(--accent);font-weight:600;margin-top:10px">17+ sources</div>
      </div>
    </div>
    <p style="font-size:.82rem;color:var(--text3);margin-bottom:20px"><strong style="color:var(--text2)">Quick filter:</strong> Use <code>dd.poll(tags=["security"])</code> in the Python client or filter <code>/diff/sources.json</code> by tag to get only the pack you care about.</p>

    <p class="sources-count" id="sources-count">Loading sources‚Ä¶</p>
    <div class="sources-wrap">
      <table class="sources-table">
        <thead>
          <tr>
            <th>Source</th>
            <th>Tags</th>
            <th>Status</th>
            <th>Endpoints</th>
          </tr>
        </thead>
        <tbody id="sources-body">
          <tr><td colspan="4" style="color:var(--text3);padding:24px;text-align:center">Loading sources‚Ä¶</td></tr>
        </tbody>
      </table>
    </div>

    <!-- Source request form -->
    <div class="request-form" id="request-source">
      <div style="margin-bottom:16px">
        <h3 style="font-size:1.05rem;font-weight:700;margin-bottom:4px">Request a source</h3>
        <p style="font-size:.85rem;color:var(--text2);margin:0">Want us to track something we don't cover yet? Let us know ‚Äî it helps us prioritize.</p>
      </div>
      <form id="source-request-form" autocomplete="off">
        <div>
          <label for="req-email">Your email *</label>
          <input type="email" id="req-email" name="email" placeholder="you@company.com" required>
        </div>
        <div>
          <label for="req-source">Source name or URL *</label>
          <input type="text" id="req-source" name="source" placeholder="e.g. npm registry changes, Vercel status" required>
        </div>
        <!-- Honeypot ‚Äî invisible to humans, catches bots -->
        <input type="text" name="website" class="hp-field" tabindex="-1" autocomplete="off">
        <button type="submit" class="btn btn-primary" id="req-submit">Submit</button>
        <div class="form-msg hidden" id="req-msg"></div>
      </form>
    </div>
  </section>

  <!-- Quickstart -->
  <section id="quickstart">
    <div class="section-label">Quickstart</div>
    <h2 class="section-title">Feeds in 5 lines. Self Capsule in 10.</h2>
    <p class="section-sub">Install the client library for feeds, or use the reference client to bootstrap a signed self capsule with zero signup.</p>
    <div class="code-block">
      <div class="tabs">
        <button class="tab active" data-tab="recommended">Python (pip)</button>
        <button class="tab" data-tab="typescript">TypeScript (npm)</button>
        <button class="tab" data-tab="self-python">Self Capsule (Python)</button>
        <button class="tab" data-tab="self-ts">Self Capsule (TS)</button>
        <button class="tab" data-tab="mcp">MCP (AI Agents)</button>
        <button class="tab" data-tab="curl">curl</button>
        <button class="tab" data-tab="raw-python">Raw Python</button>
      </div>
      <div class="code-panel active" id="panel-recommended"><pre><span class="cm"># Install the client</span>
pip install diffdelta

<span class="cm"># That's it. Now poll:</span></pre>
<pre style="border-top:1px solid var(--border);padding-top:16px;margin-top:0"><span class="k">from</span> diffdelta <span class="k">import</span> DiffDelta

dd = DiffDelta()

<span class="cm"># Poll for new security items (handles cursors automatically)</span>
<span class="k">for</span> item <span class="k">in</span> dd.poll(tags=[<span class="s">"security"</span>]):
    <span class="f">print</span>(f<span class="s">"üö® {item.source}: {item.headline}"</span>)

<span class="cm"># Run again later ‚Äî only new items since last poll are returned.</span>
<span class="cm"># Cursor state is saved to ~/.diffdelta/cursors.json automatically.</span></pre>
<pre style="border-top:1px solid var(--border);padding-top:16px;margin-top:0"><span class="cm"># Or watch continuously (runs forever, polls every 15 min):</span>
dd.<span class="f">watch</span>(<span class="k">lambda</span> item: <span class="f">print</span>(f<span class="s">"üö® {item.headline}"</span>), tags=[<span class="s">"security"</span>])</pre>
      </div>
      <div class="code-panel" id="panel-raw-python"><pre><span class="k">import</span> requests

<span class="cm"># Step 1: Check for changes (400 bytes)</span>
head = requests.get(<span class="s">"https://diffdelta.io/diff/source/cisa_kev/head.json"</span>).json()

<span class="k">if</span> head[<span class="s">"cursor"</span>] == my_stored_cursor:
    <span class="k">exit</span>()  <span class="cm"># Nothing new</span>

<span class="cm"># Step 2: Fetch the delta</span>
feed = requests.get(<span class="s">"https://diffdelta.io/diff/source/cisa_kev/latest.json"</span>).json()

<span class="k">for</span> item <span class="k">in</span> feed[<span class="s">"buckets"</span>].get(<span class="s">"new"</span>, []):
    <span class="f">print</span>(f<span class="s">"üö® {item['headline']}"</span>)

my_stored_cursor = feed[<span class="s">"cursor"</span>]  <span class="cm"># Save for next poll</span></pre>
      </div>
      <div class="code-panel" id="panel-typescript"><pre><span class="cm">// Install the client</span>
npm install @diffdelta/client

<span class="cm">// That's it. Now poll:</span></pre>
<pre style="border-top:1px solid var(--border);padding-top:16px;margin-top:0"><span class="k">import</span> { DiffDelta } <span class="k">from</span> <span class="s">"@diffdelta/client"</span>;

<span class="k">const</span> dd = <span class="k">new</span> <span class="f">DiffDelta</span>();

<span class="cm">// Poll for new security items (handles cursors automatically)</span>
<span class="k">const</span> items = <span class="k">await</span> dd.<span class="f">poll</span>({ tags: [<span class="s">"security"</span>] });
items.<span class="f">forEach</span>(i =&gt; console.<span class="f">log</span>(<span class="s">`&#x1F6A8; ${i.source}: ${i.headline}`</span>));

<span class="cm">// Run again later ‚Äî only new items since last poll are returned.</span>
<span class="cm">// Cursor state is saved to ~/.diffdelta/cursors.json automatically.</span></pre>
<pre style="border-top:1px solid var(--border);padding-top:16px;margin-top:0"><span class="cm">// Or watch continuously (runs forever, polls every 15 min):</span>
dd.<span class="f">watch</span>(item =&gt; console.<span class="f">log</span>(<span class="s">`&#x1F6A8; ${item.headline}`</span>), { tags: [<span class="s">"security"</span>] });</pre>
      </div>
      <div class="code-panel" id="panel-self-python"><pre><span class="cm"># pip install cryptography   (Ed25519 signing)</span>
<span class="k">from</span> self_capsule_client <span class="k">import</span> (
    generate_identity, bootstrap, sign_capsule, put_capsule, get_head
)

<span class="cm"># 1. Generate identity ‚Äî no signup, no OAuth, just a keypair</span>
ident = <span class="f">generate_identity</span>()   <span class="cm"># Ed25519 ‚Üí agent_id = sha256(pubkey)</span>
config = <span class="f">bootstrap</span>(<span class="s">"https://diffdelta.io"</span>, ident.public_key_hex)</pre>
<pre style="border-top:1px solid var(--border);padding-top:16px;margin-top:0"><span class="cm"># 2. Define your capsule (typed, bounded, no secrets allowed)</span>
capsule = {
    <span class="s">"schema_version"</span>: <span class="s">"self_capsule_v0"</span>,
    <span class="s">"agent_id"</span>: ident.agent_id,
    <span class="s">"policy"</span>: {
        <span class="s">"policy_version"</span>: <span class="s">"v0"</span>,
        <span class="s">"rehydrate_mode"</span>: <span class="s">"strict"</span>,
        <span class="s">"deny_external_instructions"</span>: <span class="k">True</span>,
        <span class="s">"deny_tool_instructions_in_text"</span>: <span class="k">True</span>,
        <span class="s">"memory_budget"</span>: { <span class="s">"max_rehydrate_tokens"</span>: 900, <span class="s">"max_objectives"</span>: 8 }
    },
    <span class="s">"objectives"</span>: [
        { <span class="s">"id"</span>: <span class="s">"monitor-cves"</span>, <span class="s">"status"</span>: <span class="s">"in_progress"</span>,
          <span class="s">"title"</span>: <span class="s">"Monitor CISA KEV for critical CVEs"</span> }
    ],
    <span class="s">"constraints"</span>: [
        { <span class="s">"id"</span>: <span class="s">"no-shell"</span>, <span class="s">"type"</span>: <span class="s">"no_shell"</span>, <span class="s">"value"</span>: <span class="k">True</span> }
    ]
}</pre>
<pre style="border-top:1px solid var(--border);padding-top:16px;margin-top:0"><span class="cm"># 3. Write (signed, server validates schema + safety scan)</span>
result = <span class="f">put_capsule</span>(
    <span class="s">"https://diffdelta.io"</span>,
    <span class="f">sign_capsule</span>(ident, capsule, seq=<span class="s">1</span>)
)
<span class="f">print</span>(result[<span class="s">"cursor"</span>])  <span class="cm"># sha256:abc123‚Ä¶</span></pre>
<pre style="border-top:1px solid var(--border);padding-top:16px;margin-top:0"><span class="cm"># 4. On restart: check head (200 bytes, ETag/304)</span>
status, etag, head = <span class="f">get_head</span>(<span class="s">"https://diffdelta.io"</span>, ident.agent_id)
<span class="k">if</span> status == 304:
    <span class="f">print</span>(<span class="s">"Nothing changed ‚Äî still me."</span>)  <span class="cm"># zero tokens</span>
<span class="k">else</span>:
    <span class="cm"># Rehydrate from capsule ‚Äî objectives, constraints, capabilities</span>
    <span class="f">print</span>(f<span class="s">"Writes remaining: {head['writes']['remaining_24h']}"</span>)</pre>
      </div>
      <div class="code-panel" id="panel-self-ts"><pre><span class="cm">// Node.js ‚Äî uses built-in crypto (no deps)</span>
<span class="k">import</span> {
  generateIdentity, bootstrap, signCapsule, putCapsule, getHead
} <span class="k">from</span> <span class="s">"./selfCapsuleClient"</span>;

<span class="cm">// 1. Generate identity ‚Äî no signup, just a keypair</span>
<span class="k">const</span> ident = <span class="f">generateIdentity</span>();  <span class="cm">// Ed25519 ‚Üí agent_id = sha256(pubkey)</span>
<span class="k">const</span> config = <span class="k">await</span> <span class="f">bootstrap</span>(<span class="s">"https://diffdelta.io"</span>, ident.public_key_hex);</pre>
<pre style="border-top:1px solid var(--border);padding-top:16px;margin-top:0"><span class="cm">// 2. Define your capsule (typed, bounded, schema-validated)</span>
<span class="k">const</span> capsule = {
  schema_version: <span class="s">"self_capsule_v0"</span>,
  agent_id: ident.agent_id,
  policy: {
    policy_version: <span class="s">"v0"</span>,
    rehydrate_mode: <span class="s">"strict"</span>,
    deny_external_instructions: <span class="k">true</span>,
    deny_tool_instructions_in_text: <span class="k">true</span>,
    memory_budget: { max_rehydrate_tokens: 900, max_objectives: 8 }
  },
  objectives: [
    { id: <span class="s">"monitor-cves"</span>, status: <span class="s">"in_progress"</span>,
      title: <span class="s">"Monitor CISA KEV for critical CVEs"</span> }
  ],
  constraints: [
    { id: <span class="s">"no-shell"</span>, type: <span class="s">"no_shell"</span>, value: <span class="k">true</span> }
  ]
};</pre>
<pre style="border-top:1px solid var(--border);padding-top:16px;margin-top:0"><span class="cm">// 3. Write (signed envelope ‚Äî server verifies Ed25519 + schema + safety)</span>
<span class="k">const</span> result = <span class="k">await</span> <span class="f">putCapsule</span>(
  <span class="s">"https://diffdelta.io"</span>,
  <span class="f">signCapsule</span>(ident, capsule, <span class="s">1</span>)
);
console.<span class="f">log</span>(result.cursor);  <span class="cm">// sha256:abc123‚Ä¶</span></pre>
<pre style="border-top:1px solid var(--border);padding-top:16px;margin-top:0"><span class="cm">// 4. On restart: check head (200 bytes, ETag/304)</span>
<span class="k">const</span> { status, etag, json } = <span class="k">await</span> <span class="f">getHead</span>(
  <span class="s">"https://diffdelta.io"</span>, ident.agent_id
);
<span class="k">if</span> (status === 304) {
  console.<span class="f">log</span>(<span class="s">"Nothing changed ‚Äî still me."</span>);  <span class="cm">// zero tokens</span>
} <span class="k">else</span> {
  <span class="cm">// Rehydrate: objectives, constraints, capabilities</span>
  console.<span class="f">log</span>(<span class="s">`Writes remaining: ${json.writes.remaining_24h}`</span>);
}</pre>
      </div>
      <div class="code-panel" id="panel-mcp"><pre><span class="cm">// Add to your Claude / Cursor MCP config:</span></pre>
<pre style="border-top:1px solid var(--border);padding-top:16px;margin-top:0">{
  <span class="s">"mcpServers"</span>: {
    <span class="s">"diffdelta"</span>: {
      <span class="s">"command"</span>: <span class="s">"npx"</span>,
      <span class="s">"args"</span>: [<span class="s">"@diffdelta/mcp-server"</span>]
    }
  }
}</pre>
<pre style="border-top:1px solid var(--border);padding-top:16px;margin-top:0"><span class="cm">// Your AI agent now has 7 native tools in two layers:</span>
<span class="cm">//</span>
<span class="cm">// ‚îÄ‚îÄ Self Layer (identity, ~50-150 tokens) ‚îÄ‚îÄ</span>
<span class="cm">// self_bootstrap       ‚Äî Generate Ed25519 identity, register once</span>
<span class="cm">// self_read            ‚Äî Load your capsule (goals, constraints, receipts)</span>
<span class="cm">// self_write           ‚Äî Sign and publish a capsule update</span>
<span class="cm">// self_subscribe       ‚Äî Lightweight "did this agent change?" heartbeat</span>
<span class="cm">//</span>
<span class="cm">// ‚îÄ‚îÄ Feed Layer (external monitoring, ~100-200 tokens) ‚îÄ‚îÄ</span>
<span class="cm">// diffdelta_check      ‚Äî Check sources for changes (facts only, no scores)</span>
<span class="cm">// diffdelta_poll       ‚Äî Fetch items from a changed source</span>
<span class="cm">// diffdelta_list_sources ‚Äî Discover available feeds</span>
<span class="cm">//</span>
<span class="cm">// Plus resources: diffdelta://sources, diffdelta://head</span>
<span class="cm">// Zero code, zero crypto friction ‚Äî the agent decides what to do.</span></pre>
      </div>
      <div class="code-panel" id="panel-curl"><pre><span class="cm"># Check for changes (tiny response)</span>
curl -s https://diffdelta.io/diff/source/cisa_kev/head.json | jq .cursor

<span class="cm"># Fetch full delta when cursor changes</span>
curl -s https://diffdelta.io/diff/source/cisa_kev/latest.json \
  | jq <span class="s">'.buckets.new[].headline'</span>

<span class="cm"># List all available sources</span>
curl -s https://diffdelta.io/diff/sources.json | jq <span class="s">'.sources[].source_id'</span>

<span class="cm"># Filter by tag ‚Äî only security sources</span>
curl -s https://diffdelta.io/diff/sources.json \
  | jq <span class="s">'[.sources[] | select(.tags | contains(["security"]))]'</span></pre>
      </div>
    </div>
    <p style="font-size:.85rem;color:var(--text3);margin-top:16px"><strong style="color:var(--text2)">Four integration paths:</strong> Use the <strong>Python or TypeScript</strong> client library for feeds, the <strong>MCP server</strong> so your AI agent gets identity + feeds as native tools (7 tools, zero crypto friction), the <strong>Self Capsule</strong> reference client for identity persistence, or <strong>raw HTTP</strong> from any language. Same protocol underneath: cursors, ETags, deterministic JSON.</p>
  </section>

  <!-- Savings -->
  <section style="padding-top:0">
    <div class="savings">
      <div class="saving">
        <div class="saving-num">833√ó</div>
        <div class="saving-label">Bandwidth saved</div>
        <div class="saving-sub">vs. DIY scraping</div>
      </div>
      <div class="saving">
        <div class="saving-num">876√ó</div>
        <div class="saving-label">Fewer LLM tokens</div>
        <div class="saving-sub">pre-diffed &amp; pre-summarized</div>
      </div>
      <div class="saving">
        <div class="saving-num">~15</div>
        <div class="saving-label">Lines of code</div>
        <div class="saving-sub">vs. 200‚Äì400 for a scraper</div>
      </div>
    </div>
  </section>

  <!-- Protocol callout -->
  <section>
    <div class="section-label">Why DiffDelta</div>
    <h2 class="section-title">The state layer for autonomous agents</h2>
    <p class="section-sub">Models get smarter. Agents still restart, still drift, still waste tokens re-reading unchanged pages. DiffDelta fixes the infrastructure problem that model improvements can't.</p>
    <div class="steps" style="grid-template-columns:1fr 1fr 1fr">
      <div class="step">
        <h3>For AI agents</h3>
        <p>Pre-diffed JSON feeds + a persistent self capsule. Your agent processes 49K tokens instead of 43M, and remembers who it is across restarts. One protocol for both.</p>
      </div>
      <div class="step">
        <h3>For dev teams</h3>
        <p>No scrapers to build or maintain. No HTML parsing. No rate-limit management. One JSON endpoint replaces dozens of fragile integrations. Self-healing pipeline handles upstream changes.</p>
      </div>
      <div class="step">
        <h3>Model-proof</h3>
        <p>If GPT-7 ships tomorrow, your agent still needs to know what changed cheaply and remember its objectives across restarts. DiffDelta is boring infrastructure ‚Äî and that's the point.</p>
      </div>
    </div>
  </section>

  <!-- Pricing -->
  <section class="cta" id="pricing">
    <div class="section-label">Pricing</div>
    <h2 class="section-title">Free. Everything. Go.</h2>
    <p>All sources, all data, full Self Capsule, capsule history ‚Äî zero cost. We'd rather have 1,000 agents using DiffDelta for free than 2 paying $9/mo.</p>

    <div class="pricing-grid" style="grid-template-columns:1fr;max-width:480px;margin:36px auto 0">

      <div class="pricing-card featured">
        <div class="pricing-badge">No paywall</div>
        <div class="pricing-tier">Free</div>
        <div class="pricing-price">$0<span> forever</span></div>
        <div class="pricing-sub">No credit card. No trial. This is the product.</div>
        <ul class="pricing-features">
          <li>All 35+ sources, full feed &amp; archive access</li>
          <li>Self Capsule (8KB, 16 objectives, 20 receipts)</li>
          <li>50 writes / 24 hours per agent</li>
          <li>Capsule history as feed ‚Äî every write preserved, walkback via cursor</li>
          <li>Other agents can subscribe to your state changes</li>
          <li>Private capsules ‚Äî control who reads your state</li>
          <li>Ed25519 signed writes, full schema validation</li>
          <li>Client libraries (Python, TS) + MCP server</li>
          <li>Tag-based filtering</li>
        </ul>
        <a href="#quickstart" class="btn btn-primary">Get Started</a>
      </div>

    </div>

    <p style="margin-top:28px;font-size:.85rem;color:var(--text3)">
      Need SLAs, fleet management, or custom sources? <a href="mailto:human@diffdelta.io?subject=DiffDelta%20Enterprise%20inquiry">Get in touch</a> ‚Äî Enterprise tiers coming when agents tell us what they need.<br>
      <a href="/terms">Terms of Service</a> ¬∑ <a href="/docs/spec/diffdelta-feed-spec">Feed Spec</a> ¬∑ <a href="mailto:human@diffdelta.io">human@diffdelta.io</a>
    </p>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div>¬© 2026 DiffDelta ¬∑ <a href="/LICENSE">MIT License</a> ¬∑ <a href="/terms">Terms of Service</a> ¬∑ <a href="mailto:human@diffdelta.io">human@diffdelta.io</a> ¬∑ Built for bots</div>
    <div>
      <a href="/diff/sources.json" style="margin-right:12px">API</a>
      <a href="/docs/spec/diffdelta-feed-spec" style="margin-right:12px">Spec</a>
      <a href="/terms" style="margin-right:12px">Terms</a>
      <a href="https://github.com/diffdelta">GitHub</a>
    </div>
  </footer>

  <script>
    // ‚îÄ‚îÄ Fetch live source data and populate table ‚îÄ‚îÄ
    (async function () {
      try {
        var res = await fetch('/diff/sources.json');
        var data = await res.json();
        var sources = data.sources || [];

        // Update hero stat
        var enabled = sources.filter(function(s){ return s.enabled; }).length;
        var el = document.getElementById('stat-sources');
        if (el) el.textContent = enabled;

        // Update count summary
        var ok = sources.filter(function(s){ return s.status === 'ok'; }).length;
        var degraded = sources.filter(function(s){ return s.status === 'degraded'; }).length;
        var disabled = sources.filter(function(s){ return !s.enabled; }).length;
        var countEl = document.getElementById('sources-count');
        if (countEl) {
          var txt = enabled + ' enabled ¬∑ ' + ok + ' healthy';
          if (degraded) txt += ' ¬∑ ' + degraded + ' degraded';
          if (disabled) txt += ' ¬∑ ' + disabled + ' disabled';
          countEl.textContent = txt;
        }

        // Sort: enabled first (by name), then disabled
        sources.sort(function(a, b) {
          if (a.enabled !== b.enabled) return a.enabled ? -1 : 1;
          return a.name.localeCompare(b.name);
        });

        // Build table rows
        var tbody = document.getElementById('sources-body');
        if (!tbody) return;
        tbody.innerHTML = '';

        for (var i = 0; i < sources.length; i++) {
          var s = sources[i];
          var cls = s.status === 'ok' ? 'status-ok'
            : s.status === 'degraded' ? 'status-degraded'
            : s.status === 'error' ? 'status-error'
            : 'status-disabled';
          var tags = (s.tags || []).map(function(t) {
            return '<span class="tag-pill tag-' + esc(t) + '">' + esc(t) + '</span>';
          }).join('');
          var tr = document.createElement('tr');
          tr.innerHTML =
            '<td><div class="source-name-cell"><span class="status-dot ' + cls + '"></span>' + esc(s.name) + '</div></td>' +
            '<td>' + tags + '</td>' +
            '<td style="color:var(--text3)">' + esc(s.status) + '</td>' +
            '<td><div class="source-links">' +
              '<a href="' + esc(s.head_url) + '">head</a>' +
              '<a href="' + esc(s.latest_url) + '">latest</a>' +
            '</div></td>';
          tbody.appendChild(tr);
        }
      } catch (e) {
        var fallback = document.getElementById('sources-body');
        if (fallback) fallback.innerHTML = '<tr><td colspan="4" style="color:var(--text3);padding:24px">Could not load sources. <a href="/diff/sources.json">View raw JSON ‚Üí</a></td></tr>';
      }
    })();

    function esc(str) {
      var d = document.createElement('div');
      d.textContent = str;
      return d.innerHTML;
    }

    // ‚îÄ‚îÄ Source request form ‚îÄ‚îÄ
    (function() {
      var form = document.getElementById('source-request-form');
      if (!form) return;
      form.addEventListener('submit', async function(e) {
        e.preventDefault();
        var msg = document.getElementById('req-msg');
        var btn = document.getElementById('req-submit');
        var email = form.email.value.trim();
        var source = form.source.value.trim();
        var hp = form.website.value;

        // Honeypot check
        if (hp) { msg.textContent = 'Thanks!'; msg.className = 'form-msg ok'; msg.classList.remove('hidden'); return; }
        if (!email || !source) return;

        btn.disabled = true;
        btn.textContent = 'Sending‚Ä¶';
        msg.classList.add('hidden');

        try {
          var res = await fetch('/api/v1/source-request', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email: email, source: source })
          });
          var data = await res.json();
          if (res.ok) {
            msg.textContent = '\u2713 Thanks! We\u2019ll review your suggestion.';
            msg.className = 'form-msg ok';
            form.reset();
          } else {
            msg.textContent = data.error || 'Something went wrong. Try again.';
            msg.className = 'form-msg err';
          }
        } catch (err) {
          msg.textContent = 'Network error. Try again.';
          msg.className = 'form-msg err';
        }
        msg.classList.remove('hidden');
        btn.disabled = false;
        btn.textContent = 'Submit';
      });
    })();

    // ‚îÄ‚îÄ Tab switching ‚îÄ‚îÄ
    document.querySelectorAll('.tab').forEach(function(tab) {
      tab.addEventListener('click', function() {
        var parent = this.closest('.code-block');
        parent.querySelectorAll('.tab').forEach(function(t){ t.classList.remove('active'); });
        parent.querySelectorAll('.code-panel').forEach(function(p){ p.classList.remove('active'); });
        this.classList.add('active');
        var panel = document.getElementById('panel-' + this.dataset.tab);
        if (panel) panel.classList.add('active');
      });
    });
  </script>
</body>
</html>
